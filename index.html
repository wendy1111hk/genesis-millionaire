
<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–ç¶“ç™¾è¬å¯Œç¿ - å‰µä¸–è¨˜ç¯‡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #020230;
            color: white;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .bg-studio {
            background: radial-gradient(circle at center, #0b1e5a 0%, #020230 70%, #000000 100%);
            min-height: 100vh;
        }

        .ladder-scroll::-webkit-scrollbar { width: 6px; }
        .ladder-scroll::-webkit-scrollbar-track { background: #000; }
        .ladder-scroll::-webkit-scrollbar-thumb { background: #555; border-radius: 3px; }

        @keyframes pulse-gold {
            0%, 100% { box-shadow: 0 0 10px #ca8a04; }
            50% { box-shadow: 0 0 25px #facc15; }
        }
        .animate-winner { animation: pulse-gold 2s infinite; }
        
        @keyframes flash-correct {
            0%, 100% { background-color: #166534; }
            50% { background-color: #22c55e; }
        }
        .correct-answer { animation: flash-correct 0.5s linear 3; }

        .hidden { display: none !important; }
        .invisible-opt { visibility: hidden; pointer-events: none; }

        /* Custom Ladder Styles */
        .ladder-item { transition: all 0.3s; }
        .ladder-active { background-color: #ca8a04; color: white; transform: scale(1.05); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .ladder-safe { color: white; font-weight: bold; }
        .ladder-normal { color: #d97706; } /* amber-600 */
        .ladder-passed { color: #065f46; opacity: 0.6; }

        /* Lifeline Used State */
        .lifeline-used { 
            opacity: 0.5; 
            cursor: not-allowed; 
            position: relative;
        }
        .lifeline-used::after {
            content: 'âŒ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
        }

        /* Bar Chart for Audience */
        .bar-container { display: flex; flex-direction: column; justify-content: flex-end; align-items: center; height: 150px; width: 40px; margin: 0 10px; }
        .bar { background: #fbbf24; width: 100%; transition: height 1s ease-out; border-radius: 4px 4px 0 0; }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-studio flex flex-col items-center">

    <!-- 1. Start Screen -->
    <div id="start-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/90 text-center p-4 transition-opacity duration-500">
        <div class="relative mb-8">
            <div class="absolute inset-0 bg-blue-600 blur-3xl opacity-30 rounded-full"></div>
            <h1 class="relative text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 drop-shadow-lg tracking-widest font-serif">
                ç™¾è¬å¯Œç¿
            </h1>
            <h2 class="text-xl text-blue-300 mt-2 tracking-[0.5em] uppercase">Genesis Edition</h2>
        </div>
        
        <div class="bg-slate-900/80 p-8 rounded-2xl border border-blue-800 shadow-2xl max-w-lg backdrop-blur-sm">
            <p class="text-gray-300 mb-8 text-lg leading-relaxed text-left">
                ğŸ® æŒ‘æˆ° 15 æ¢ã€Šå‰µä¸–è¨˜ã€‹å•é¡Œ<br>
                ğŸ›¡ï¸ ä¿éšªç·šï¼šç¬¬5é¡Œã€ç¬¬10é¡Œ<br>
                ğŸ†˜ ä¸‰å¤§éŒ¦å›Šï¼š50:50ã€å•æœ‹å‹ã€å•è§€çœ¾<br>
                ğŸšª å¯éš¨æ™‚é¸æ“‡ã€Œæ£„æ¬Šã€æ‹¿èµ°ç›®å‰çé‡‘
            </p>
            <button onclick="game.start()" class="w-full px-8 py-4 text-2xl font-bold text-white bg-gradient-to-b from-blue-600 to-blue-900 border-2 border-blue-400 rounded-full shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:scale-105 hover:shadow-[0_0_40px_rgba(59,130,246,0.8)] transition-transform duration-200">
                é–‹å§‹éŠæˆ²
            </button>
        </div>
    </div>

    <!-- 2. Game UI -->
    <div id="game-ui" class="w-full max-w-7xl flex flex-col lg:flex-row flex-1 hidden opacity-0 transition-opacity duration-500 h-screen">
        
        <!-- Main Game Area -->
        <div class="flex-1 flex flex-col p-4 pb-8 lg:pr-8 relative overflow-y-auto">
            
            <!-- Top Bar: Status & Lifelines -->
            <div class="w-full flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                
                <!-- Current Status Badge -->
                <div class="bg-slate-900/90 border border-blue-500 rounded-lg px-6 py-3 shadow-[0_0_15px_rgba(37,99,235,0.3)] w-full md:w-auto text-center md:text-left">
                    <div class="text-xs text-blue-400 uppercase tracking-widest mb-1">Current Question</div>
                    <div class="flex items-baseline justify-center md:justify-start gap-3">
                        <span id="q-level-display" class="text-2xl font-bold text-yellow-500">Q1</span>
                        <span class="text-gray-500">/</span>
                        <span id="q-money-display" class="text-2xl font-mono text-white">$1,000</span>
                    </div>
                    <div id="safe-haven-badge" class="hidden text-xs font-bold text-green-400 mt-1 bg-green-900/30 px-2 py-0.5 rounded inline-block">ğŸ›¡ï¸ ä¿éšªç·š Safe Haven</div>
                </div>

                <!-- Lifelines Area -->
                <div class="flex gap-3">
                    <button id="lifeline-5050" onclick="game.use5050()" class="relative group w-16 h-16 rounded-full border-2 border-blue-400 bg-slate-900 flex items-center justify-center hover:bg-blue-900 transition-colors shadow-lg" title="50:50">
                        <span class="text-blue-300 font-bold text-sm">50:50</span>
                    </button>
                    <button id="lifeline-phone" onclick="game.usePhone()" class="relative group w-16 h-16 rounded-full border-2 border-blue-400 bg-slate-900 flex items-center justify-center hover:bg-blue-900 transition-colors shadow-lg" title="å•æœ‹å‹">
                        <span class="text-2xl">ğŸ“</span>
                    </button>
                    <button id="lifeline-audience" onclick="game.useAudience()" class="relative group w-16 h-16 rounded-full border-2 border-blue-400 bg-slate-900 flex items-center justify-center hover:bg-blue-900 transition-colors shadow-lg" title="å•ç¾å ´è§€çœ¾">
                        <span class="text-2xl">ğŸ‘¥</span>
                    </button>
                </div>

                <!-- Walk Away Button (Desktop) -->
                <div class="hidden md:block">
                     <button onclick="game.walkAway()" class="px-4 py-2 bg-red-900/50 border border-red-500 text-red-200 rounded hover:bg-red-800 transition text-sm">
                        ğŸšª æ£„æ¬Š (å–èµ°çé‡‘)
                    </button>
                </div>
            </div>

            <!-- Spacer -->
            <div class="flex-1 min-h-[10px]"></div>

            <!-- Question Box -->
            <div class="relative w-full mb-6 md:mb-10">
                <div class="absolute inset-0 bg-blue-600/10 blur-xl rounded-full"></div>
                <div class="relative bg-gradient-to-b from-slate-900 to-black border-2 border-blue-400 rounded-3xl p-6 md:p-12 text-center shadow-[0_0_30px_rgba(59,130,246,0.2)] min-h-[180px] flex flex-col items-center justify-center">
                    <div class="absolute top-1/2 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-20"></div>
                    <h2 id="question-text" class="text-xl md:text-3xl font-bold leading-relaxed relative z-10 text-white">
                        Loading...
                    </h2>
                </div>
            </div>

            <!-- Options Grid -->
            <div id="options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <!-- Buttons will be injected here -->
            </div>

            <!-- Mobile Walk Away (Bottom) -->
            <div class="md:hidden w-full flex justify-center mb-4">
                <button onclick="game.walkAway()" class="px-6 py-2 bg-red-900/50 border border-red-500 text-red-200 rounded-full hover:bg-red-800 transition text-sm w-full">
                    ğŸšª æ£„æ¬Š (å–èµ°çé‡‘)
                </button>
            </div>

            <!-- Source Reveal & Next Button Area -->
            <div id="control-area" class="min-h-[100px] flex flex-col items-center justify-center gap-4 transition-all duration-500">
                <!-- Source Text -->
                <div id="source-reveal" class="text-center opacity-0 transition-opacity duration-500">
                    <p id="source-text" class="text-yellow-400 font-serif italic text-lg md:text-2xl drop-shadow-md">
                        <!-- Source text -->
                    </p>
                </div>

                <!-- Next Button (Hidden initially) -->
                <button id="next-btn" onclick="game.nextQuestion()" class="hidden px-10 py-3 text-xl font-bold text-black bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.8)] transition-all animate-bounce">
                    ä¸‹ä¸€é¡Œ â”
                </button>
            </div>
            
            <!-- Spacer -->
            <div class="flex-1 lg:hidden"></div>
        </div>

        <!-- Sidebar Ladder (Desktop) -->
        <div class="hidden lg:flex flex-col w-80 bg-black/60 border-l border-blue-900 h-screen sticky top-0 backdrop-blur-md z-20">
            <div class="p-4 bg-slate-900/50 border-b border-blue-900 text-center">
                <h3 class="text-blue-300 font-bold tracking-widest">çé‡‘éšæ¢¯</h3>
            </div>
            <div id="money-ladder-desktop" class="flex flex-col-reverse p-6 overflow-y-auto ladder-scroll h-full justify-center gap-1">
                <!-- Ladder items injected here -->
            </div>
        </div>
    </div>

    <!-- Modals -->
    
    <!-- Phone A Friend Modal -->
    <div id="modal-phone" class="fixed inset-0 z-[60] bg-black/80 flex items-center justify-center hidden">
        <div class="bg-slate-800 border-2 border-blue-500 p-8 rounded-2xl max-w-sm w-full text-center shadow-2xl relative">
            <div class="text-6xl mb-4">ğŸ“</div>
            <h3 class="text-2xl font-bold text-white mb-4">æœ‹å‹çš„å»ºè­°</h3>
            <p id="phone-msg" class="text-xl text-yellow-300 font-mono mb-6 typing-effect">
                Thinking...
            </p>
            <button onclick="document.getElementById('modal-phone').classList.add('hidden')" class="px-6 py-2 bg-blue-600 rounded text-white font-bold">
                æ”¶åˆ°ï¼Œè¬è¬
            </button>
        </div>
    </div>

    <!-- Audience Poll Modal -->
    <div id="modal-audience" class="fixed inset-0 z-[60] bg-black/80 flex items-center justify-center hidden">
        <div class="bg-slate-800 border-2 border-blue-500 p-8 rounded-2xl max-w-md w-full text-center shadow-2xl relative">
            <div class="text-6xl mb-4">ğŸ‘¥</div>
            <h3 class="text-2xl font-bold text-white mb-6">ç¾å ´è§€çœ¾æŠ•ç¥¨çµæœ</h3>
            
            <div id="chart-container" class="flex justify-center items-end h-40 gap-4 mb-4 text-white font-bold">
                <!-- Bars injected via JS -->
            </div>
            
            <button onclick="document.getElementById('modal-audience').classList.add('hidden')" class="px-6 py-2 bg-blue-600 rounded text-white font-bold mt-4">
                å›åˆ°éŠæˆ²
            </button>
        </div>
    </div>

    <!-- 3. Result Screen -->
    <div id="result-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/95 hidden text-center p-6">
        <h2 id="result-title" class="text-6xl font-bold mb-6 text-white"></h2>
        
        <p class="text-2xl text-gray-300">ä½ æœ€çµ‚è´å¾—äº†</p>
        <p id="result-prize" class="text-5xl font-mono text-yellow-400 font-bold my-4 drop-shadow-[0_0_20px_rgba(250,204,21,0.6)]">$0</p>
        
        <div id="correct-answer-display" class="hidden bg-red-900/20 border border-red-800 p-6 rounded-xl mt-8 mb-8 max-w-md w-full">
            <p class="text-gray-400 text-sm mb-2">æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š</p>
            <p id="correct-answer-text" class="text-2xl font-bold text-white mb-2"></p>
            <p id="correct-source-text" class="text-yellow-600 font-serif italic"></p>
        </div>

        <button onclick="game.start()" class="mt-8 px-10 py-4 text-xl font-bold text-black bg-white rounded-full hover:bg-gray-200 hover:scale-105 transition-all shadow-[0_0_20px_white]">
            å†ç©ä¸€æ¬¡
        </button>
    </div>

    <!-- Game Logic -->
    <script>
        // --- Data ---
        const RAW_QUESTIONS = [
            { q: "ä¸Šå¸åœ¨å‰µé€ å¤©åœ°çš„ç¬¬ä¸€æ—¥å‰µé€ äº†ç”šéº¼ï¼Ÿ", a: "å…‰", opts: ["ç©ºæ°£", "é™¸åœ°", "æ—¥æœˆæ˜Ÿ"], src: "å‰µä¸–è¨˜ 1:3-5 [1]" },
            { q: "è€¶å’Œè¯ç”¨ç”šéº¼é€ äº†ç”·äººï¼Ÿ", a: "åœ°ä¸Šçš„å¡µåœŸ", opts: ["ç©ºæ°£", "æ°´", "ä¸€æ ¹è‚‹éª¨"], src: "å‰µä¸–è¨˜ 2:7 [2]" },
            { q: "ä¼Šç”¸åœ’ä¸­å“ªæ¢æ²³ç’°ç¹å“ˆè…“æ‹‰å…¨åœ°ï¼Œé‚£è£æœ‰é‡‘å­ï¼Ÿ", a: "æ¯”éœ", opts: ["åŸºè¨“", "åº•æ ¼é‡Œæ–¯", "å¹¼ç™¼æ‹‰åº•"], src: "å‰µä¸–è¨˜ 2:11 [2]" },
            { q: "è›‡å°å¥³äººèªªï¼Œä½ å€‘åƒçš„æ—¥å­ä¾¿å¦‚ä¸Šå¸èƒ½çŸ¥é“ç”šéº¼ï¼Ÿ", a: "å–„æƒ¡", opts: ["æœªä¾†", "ç”Ÿæ­»", "æ™ºæ…§"], src: "å‰µä¸–è¨˜ 3:5 [3]" },
            { q: "äºä¼¯æ˜¯åšç”šéº¼å·¥ä½œçš„ï¼Ÿ", a: "ç‰§ç¾Šçš„", opts: ["ç¨®åœ°çš„", "éµåŒ ", "çµæˆ¶"], src: "å‰µä¸–è¨˜ 4:2 [4]" },
            { q: "è©²éš±æ®ºäº†äºä¼¯å¾Œï¼Œå»ä½åœ¨ä¼Šç”¸æ±é‚Šçš„å“ªè£ï¼Ÿ", a: "æŒªå¾—ä¹‹åœ°", opts: ["å“ˆè˜­", "åŸƒåŠ", "æ‰€å¤šç‘ª"], src: "å‰µä¸–è¨˜ 4:16 [5]" },
            { q: "ç‘ªåœŸæ’’æ‹‰å…±æ´»äº†å¤šå°‘æ­²ï¼Ÿ", a: "969æ­²", opts: ["930æ­²", "950æ­²", "777æ­²"], src: "å‰µä¸–è¨˜ 5:27 [6]" },
            { q: "ä¸Šå¸å©å’æŒªäºç”¨ç”šéº¼æœ¨é€ æ–¹èˆŸï¼Ÿ", a: "æ­Œæ–æœ¨", opts: ["é¦™æŸæœ¨", "çš‚è¢æœ¨", "æ©„æ¬–æœ¨"], src: "å‰µä¸–è¨˜ 6:14 [7]" },
            { q: "æ´ªæ°´åœ¨åœ°ä¸Šæ°¾æ¿«äº†å¤šå°‘å¤©ï¼Ÿ", a: "40å¤©", opts: ["7å¤©", "150å¤©", "100å¤©"], src: "å‰µä¸–è¨˜ 7:17 [8]" },
            { q: "æ–¹èˆŸåœåœ¨ç”šéº¼å±±ä¸Šï¼Ÿ", a: "äºæ‹‰è‡˜å±±", opts: ["è¥¿å¥ˆå±±", "æ‘©åˆ©äºå±±", "æ©„æ¬–å±±"], src: "å‰µä¸–è¨˜ 8:4 [8]" },
            { q: "é´¿å­å›åˆ°æŒªäºé‚£è£ï¼Œå˜´è£å¼ç€ç”šéº¼ï¼Ÿ", a: "æ©„æ¬–è‘‰å­", opts: ["ç„¡èŠ±æœè‘‰", "æ¨¹æ", "éº¥ç©—"], src: "å‰µä¸–è¨˜ 8:11 [9]" },
            { q: "ä¸Šå¸ç”¨ç”šéº¼ä½œç‚ºèˆ‡åœ°ç«‹ç´„ä¸å†ç”¨æ´ªæ°´æ¯€æ»…çš„è¨˜è™Ÿï¼Ÿ", a: "è™¹", opts: ["æ˜Ÿ", "æ—¥é ­", "é›²æŸ±"], src: "å‰µä¸–è¨˜ 9:13 [10]" },
            { q: "èª°æ˜¯ä¸–ä¸Šè‹±é›„ä¹‹é¦–ï¼Œæ˜¯å€‹è‹±å‹‡çš„çµæˆ¶ï¼Ÿ", a: "å¯§éŒ„", opts: ["å¤å¯¦", "è¿¦å—", "é–ƒ"], src: "å‰µä¸–è¨˜ 10:8-9 [11]" },
            { q: "äººå€‘é€ å·´åˆ¥å¡”çš„ç›®çš„æ˜¯ç‚ºäº†å‚³æšç”šéº¼ï¼Ÿ", a: "ä»–å€‘çš„å", opts: ["ä¸Šå¸çš„å", "åœ‹ç‹çš„å", "ç¥–å…ˆçš„å"], src: "å‰µä¸–è¨˜ 11:4 [12]" },
            { q: "ä»–æ‹‰æ­»åœ¨å“ªè£ï¼Ÿ", a: "å“ˆè˜­", opts: ["å¾ç¥", "è¿¦å—", "åŸƒåŠ"], src: "å‰µä¸–è¨˜ 11:32 [13]" },
            { q: "äºä¼¯è˜­å‡ºå“ˆè˜­çš„æ™‚å€™å¹´å¤šå°‘æ­²ï¼Ÿ", a: "75æ­²", opts: ["86æ­²", "99æ­²", "100æ­²"], src: "å‰µä¸–è¨˜ 12:4 [13]" },
            { q: "ç¾…å¾—é¸æ“‡äº†å“ªè£çš„å¹³åŸå±…ä½ï¼Ÿ", a: "ç´„æ—¦æ²³çš„å…¨å¹³åŸ", opts: ["å¹”åˆ©", "å°¼é©å¤«", "åŸºåˆ—"], src: "å‰µä¸–è¨˜ 13:11 [14]" },
            { q: "èª°æ˜¯è‡³é«˜ä¸Šå¸çš„ç¥­å¸ï¼Œå¸¶ç€é¤…å’Œé…’å‡ºä¾†è¿æ¥äºä¼¯è˜­ï¼Ÿ", a: "éº¥åŸºæ´—å¾·", opts: ["äºæ¯”ç±³å‹’", "æ³•è€", "åŸºå¤§è€ç‘ª"], src: "å‰µä¸–è¨˜ 14:18 [15]" },
            { q: "è€¶å’Œè¯é è¨€äºä¼¯è˜­çš„å¾Œè£”è¦å¯„å±…åˆ¥äººçš„åœ°æœäº‹é‚£åœ°çš„äººå¤šå°‘å¹´ï¼Ÿ", a: "400å¹´", opts: ["430å¹´", "70å¹´", "100å¹´"], src: "å‰µä¸–è¨˜ 15:13 [16]" },
            { q: "å¤ç”²çµ¦äºä¼¯è˜­ç”Ÿä»¥å¯¦ç‘ªåˆ©æ™‚ï¼Œäºä¼¯è˜­å¹´å¤šå°‘æ­²ï¼Ÿ", a: "86æ­²", opts: ["75æ­²", "99æ­²", "100æ­²"], src: "å‰µä¸–è¨˜ 16:16 [17]" },
            { q: "äºä¼¯æ‹‰ç½•çš„å¾Œè£”ä¸­ï¼Œç”·å­ç”Ÿä¸‹ä¾†ç¬¬å¹¾æ—¥è¦å—å‰²ç¦®ï¼Ÿ", a: "ç¬¬å…«æ—¥", opts: ["ç¬¬ä¸ƒæ—¥", "ç¬¬åäºŒæ—¥", "ç¬¬å››åæ—¥"], src: "å‰µä¸–è¨˜ 17:12 [18]" },
            { q: "ç•¶ä¸Šå¸æ‡‰è¨±æ’’æ‹‰å°‡ç”Ÿä¸€å€‹å…’å­æ™‚ï¼Œæ’’æ‹‰åœ¨å“ªè£è½è¦‹è€Œæš—ç¬‘ï¼Ÿ", a: "å¸³æ£šé–€å£", opts: ["æ¨¹ä¸‹", "äº•æ—", "å»šæˆ¿"], src: "å‰µä¸–è¨˜ 18:10 [19]" },
            { q: "è€¶å’Œè¯å°‡ç¡«ç£ºèˆ‡ç«é™èˆ‡å“ªå…©å€‹åŸï¼Ÿ", a: "æ‰€å¤šç‘ªå’Œè›¾æ‘©æ‹‰", opts: ["å·´åˆ¥å’Œå°¼å°¼å¾®", "è€¶åˆ©å“¥å’Œè‰¾åŸ", "åŸºæ‹‰è€³å’Œåˆ¥æ˜¯å·´"], src: "å‰µä¸–è¨˜ 19:24 [20]" },
            { q: "ç¾…å¾—çš„å¦»å­å›é ­ä¸€çœ‹ï¼Œè®Šæˆäº†ç”šéº¼ï¼Ÿ", a: "ä¸€æ ¹é¹½æŸ±", opts: ["ä¸€å¡ŠçŸ³é ­", "ä¸€æ£µæ¨¹", "ä¸€éš»é³¥"], src: "å‰µä¸–è¨˜ 19:26 [20]" },
            { q: "äºä¼¯æ‹‰ç½•ç¨±æ’’æ‹‰ç‚ºå¦¹å­ï¼Œå“ªä½ç‹å·®äººæŠŠæ’’æ‹‰å–äº†å»ï¼Ÿ", a: "äºæ¯”ç±³å‹’", opts: ["æ³•è€", "éº¥åŸºæ´—å¾·", "åŸºå¤§è€ç‘ª"], src: "å‰µä¸–è¨˜ 20:2 [21]" },
            { q: "ä»¥æ’’å‡ºç”Ÿæ™‚ï¼Œäºä¼¯æ‹‰ç½•å¹´å¤šå°‘æ­²ï¼Ÿ", a: "100æ­²", opts: ["99æ­²", "86æ­²", "90æ­²"], src: "å‰µä¸–è¨˜ 21:5 [22]" },
            { q: "äºä¼¯æ‹‰ç½•åœ¨åˆ¥æ˜¯å·´æ ½ä¸Šä¸€æ£µç”šéº¼æ¨¹æ±‚å‘Šè€¶å’Œè¯çš„åï¼Ÿ", a: "å‚çµ²æŸ³æ¨¹", opts: ["æ©¡æ¨¹", "ç„¡èŠ±æœæ¨¹", "æ©„æ¬–æ¨¹"], src: "å‰µä¸–è¨˜ 21:33 [23]" },
            { q: "ä¸Šå¸å©å’äºä¼¯æ‹‰ç½•å¸¶ä»¥æ’’å»å“ªè£ç»ç¥­ï¼Ÿ", a: "æ‘©åˆ©äºåœ°", opts: ["è¥¿å¥ˆå±±", "ä¼¯ç‰¹åˆ©", "å¸Œä¼¯å´™"], src: "å‰µä¸–è¨˜ 22:2 [23]" },
            { q: "äºä¼¯æ‹‰ç½•ç»ç¥­æ™‚ï¼Œç™¼ç¾ä¸€éš»å…¬ç¾Šï¼Œå®ƒçš„ç”šéº¼è¢«æ‰£åœ¨å°æ¨¹ä¸­ï¼Ÿ", a: "å…©è§’", opts: ["è…³", "é ­", "æ¯›"], src: "å‰µä¸–è¨˜ 22:13 [24]" },
            { q: "æ’’æ‹‰äº«å£½å¤šå°‘æ­²ï¼Ÿ", a: "127æ­²", opts: ["120æ­²", "130æ­²", "100æ­²"], src: "å‰µä¸–è¨˜ 23:1 [25]" },
            { q: "äºä¼¯æ‹‰ç½•ç”¨å¤šå°‘éŠ€å­è²·äº†éº¥æ¯”æ‹‰æ´ï¼Ÿ", a: "400èˆå®¢å‹’", opts: ["30èˆå®¢å‹’", "50èˆå®¢å‹’", "1000èˆå®¢å‹’"], src: "å‰µä¸–è¨˜ 23:15 [26]" },
            { q: "ä»¥æƒèº«é«”ç™¼ç´…ï¼Œæ¸¾èº«æœ‰æ¯›ï¼Œå¦‚åŒç”šéº¼ï¼Ÿ", a: "çš®è¡£", opts: ["ç…å­", "ç¶¿ç¾Š", "é‡é©¢"], src: "å‰µä¸–è¨˜ 25:25 [27]" },
            { q: "é›…å„å‡ºç”Ÿæ™‚ï¼Œæ‰‹æŠ“ç€ä»¥æƒçš„ç”šéº¼ï¼Ÿ", a: "è…³è·Ÿ", opts: ["æ‰‹", "é ­", "è¡£æœ"], src: "å‰µä¸–è¨˜ 25:26 [27]" },
            { q: "ä»¥æƒå› ç‚ºç”šéº¼å‡ºè³£äº†é•·å­çš„ååˆ†ï¼Ÿ", a: "ç´…è±†æ¹¯", opts: ["ç¾Šè‚‰", "é‡‘å­", "è¡£æœ"], src: "å‰µä¸–è¨˜ 25:30 [27]" },
            { q: "ä»¥æ’’åœ¨åŸºæ‹‰è€³è€•ç¨®ï¼Œé‚£ä¸€å¹´æœ‰å¹¾å€çš„æ”¶æˆï¼Ÿ", a: "ç™¾å€", opts: ["ä¸‰åå€", "å…­åå€", "åå€"], src: "å‰µä¸–è¨˜ 26:12 [28]" },
            { q: "åˆ©ç™¾åŠ ç”¨ç”šéº¼åŒ…åœ¨é›…å„çš„æ‰‹ä¸Šå’Œé ¸é …çš„å…‰æ»‘è™•ï¼Ÿ", a: "å±±ç¾Šç¾”çš®", opts: ["ç¶¿ç¾Šçš®", "å¸ƒ", "æ¨¹è‘‰"], src: "å‰µä¸–è¨˜ 27:16 [29]" },
            { q: "é›…å„å¤¢è¦‹æ¢¯å­çš„åœ°æ–¹ï¼Œèµ·å…ˆåå«ç”šéº¼ï¼Ÿ", a: "è·¯æ–¯", opts: ["ä¼¯ç‰¹åˆ©", "ç¤ºåŠ", "å¸Œä¼¯å´™"], src: "å‰µä¸–è¨˜ 28:19 [30]" },
            { q: "æ‹‰ç­æœ‰å…©å€‹å¥³å…’ï¼Œå¤§çš„å«åˆ©äºï¼Œå°çš„å«ç”šéº¼ï¼Ÿ", a: "æ‹‰çµ", opts: ["æ‚‰å¸•", "è¾Ÿæ‹‰", "åº•æ‹¿"], src: "å‰µä¸–è¨˜ 29:16 [31]" },
            { q: "æµä¾¿åœ¨ç”°è£å°‹è¦‹ç”šéº¼æ‹¿ä¾†çµ¦ä»–æ¯è¦ªåˆ©äºï¼Ÿ", a: "é¢¨èŒ„", opts: ["ç„¡èŠ±æœ", "è‘¡è„", "æ©„æ¬–"], src: "å‰µä¸–è¨˜ 30:14 [32]" },
            { q: "æ‹‰çµå·äº†çˆ¶è¦ªå®¶ä¸­çš„ç”šéº¼ï¼Ÿ", a: "ç¥åƒ", opts: ["é‡‘éŠ€", "ç¾Šç¾¤", "é§±é§"], src: "å‰µä¸–è¨˜ 31:19 [33]" },
            { q: "é‚£äººèªªï¼šä½ çš„åä¸è¦å†å«é›…å„ï¼Œè¦å«ç”šéº¼ï¼Ÿ", a: "ä»¥è‰²åˆ—", opts: ["ä»¥æ±", "ä»¥æ³•è“®", "ç´„æ›¸äº"], src: "å‰µä¸–è¨˜ 32:28 [34]" },
            { q: "é›…å„ç‚ºè‡ªå·±è“‹é€ æˆ¿å±‹ï¼Œçµ¦ç‰²ç•œæ­æ£šçš„åœ°æ–¹å«ç”šéº¼ï¼Ÿ", a: "ç–å‰²", opts: ["æ¯—åŠªä¼Šå‹’", "ç‘ªå“ˆå¿µ", "ç¤ºåŠ"], src: "å‰µä¸–è¨˜ 33:17 [35]" },
            { q: "åº•æ‹¿è¢«ç•¶åœ°å“ªä½é¦–é ˜çš„å…’å­ç·è¾±äº†ï¼Ÿ", a: "ç¤ºåŠ", opts: ["å“ˆæŠ¹", "è¥¿ç·¬", "åˆ©æœª"], src: "å‰µä¸–è¨˜ 34:2 [35]" },
            { q: "æ‹‰çµç”Ÿä¾¿é›…æ†«æ™‚é›£ç”¢è€Œæ­»ï¼Œå¥¹è‘¬åœ¨å“ªè£ï¼Ÿ", a: "ä»¥æ³•ä»–", opts: ["éº¥æ¯”æ‹‰æ´", "ç¤ºåŠ", "äºæ‹‰è‡˜"], src: "å‰µä¸–è¨˜ 35:19 [36]" },
            { q: "ç´„ç‘Ÿè¢«è³£çµ¦ä»¥å¯¦ç‘ªåˆ©äººï¼Œåƒ¹éŠ€æ˜¯å¤šå°‘ï¼Ÿ", a: "äºŒåèˆå®¢å‹’", opts: ["ä¸‰åèˆå®¢å‹’", "åèˆå®¢å‹’", "äº”åèˆå®¢å‹’"], src: "å‰µä¸–è¨˜ 37:28 [37]" },
            { q: "ç´„ç‘Ÿè¢«è³£åˆ°åŸƒåŠï¼Œèª°è²·äº†ä»–ï¼Ÿ", a: "æ³¢æä¹", opts: ["æ³•è€", "é…’æ”¿", "è†³é•·"], src: "å‰µä¸–è¨˜ 39:1 [38]" },
            { q: "è†³é•·å¤¢è¦‹é ­ä¸Šé ‚ç€ä¸‰ç­ç”šéº¼ï¼Ÿ", a: "ç™½é¤…", opts: ["è‘¡è„", "ç„¡èŠ±æœ", "è‚‰"], src: "å‰µä¸–è¨˜ 40:16 [39]" },
            { q: "æ³•è€è³œåçµ¦ç´„ç‘Ÿå«ç”šéº¼ï¼Ÿ", a: "æ’’ç™¼é‚£å¿’â€§å·´å…§äº", opts: ["æ³¢æéæ‹‰", "äºè¥¿ç´", "ç‘ªæ‹¿è¥¿"], src: "å‰µä¸–è¨˜ 41:45 [40]" },
            { q: "ç´„ç‘Ÿçš„å“¥å“¥å€‘ç¬¬ä¸€æ¬¡ä¸‹åŸƒåŠç³´ç³§æ™‚ï¼Œèª°è¢«ç•™ä½œäººè³ªï¼Ÿ", a: "è¥¿ç·¬", opts: ["æµä¾¿", "çŒ¶å¤§", "ä¾¿é›…æ†«"], src: "å‰µä¸–è¨˜ 42:24 [41]" },
            { q: "ç´„ç‘Ÿè¨­å®´æ™‚ï¼Œä¾¿é›…æ†«æ‰€å¾—çš„é£Ÿç‰©æ¯”åˆ¥äººå¤šå¤šå°‘ï¼Ÿ", a: "äº”å€", opts: ["å…©å€", "ä¸‰å€", "åå€"], src: "å‰µä¸–è¨˜ 43:34 [42]" },
            { q: "ç´„ç‘Ÿçµ¦ä¾¿é›…æ†«å¤šå°‘éŠ€å­ï¼Ÿ", a: "ä¸‰ç™¾éŠ€å­", opts: ["äºŒåéŠ€å­", "ä¸€ç™¾éŠ€å­", "ä¸€åƒéŠ€å­"], src: "å‰µä¸–è¨˜ 45:22 [43]" },
            { q: "é›…å„ä¸‹åŸƒåŠæ™‚å¹´å¤šå°‘æ­²ï¼Ÿ", a: "130æ­²", opts: ["147æ­²", "100æ­²", "120æ­²"], src: "å‰µä¸–è¨˜ 47:9 [44]" },
            { q: "ç´„ç‘Ÿæ´»äº†å¤šå°‘æ­²ï¼Ÿ", a: "110æ­²", opts: ["120æ­²", "100æ­²", "147æ­²"], src: "å‰µä¸–è¨˜ 50:26 [45]" }
        ];

        // Level 5 and 10 are safe havens
        const MONEY_LADDER = [
            { amt: "$1,000", safe: false },
            { amt: "$2,000", safe: false },
            { amt: "$3,000", safe: false },
            { amt: "$4,000", safe: false },
            { amt: "$5,000", safe: true },  // Level 5
            { amt: "$10,000", safe: false },
            { amt: "$20,000", safe: false },
            { amt: "$30,000", safe: false },
            { amt: "$40,000", safe: false },
            { amt: "$50,000", safe: true }, // Level 10
            { amt: "$60,000", safe: false },
            { amt: "$125,000", safe: false },
            { amt: "$250,000", safe: false },
            { amt: "$500,000", safe: false },
            { amt: "$1,000,000", safe: true } // Level 15
        ];

        // --- Game Engine ---
        
        const game = {
            state: {
                questions: [],
                currentIdx: 0,
                isLocked: false,
                lifelines: {
                    fifty: false,
                    phone: false,
                    audience: false
                }
            },

            el: {
                startScreen: document.getElementById('start-screen'),
                gameUi: document.getElementById('game-ui'),
                resultScreen: document.getElementById('result-screen'),
                optionsGrid: document.getElementById('options-grid'),
                questionText: document.getElementById('question-text'),
                ladderDesktop: document.getElementById('money-ladder-desktop'),
                lifelineBtn50: document.getElementById('lifeline-5050'),
                lifelineBtnPhone: document.getElementById('lifeline-phone'),
                lifelineBtnAudience: document.getElementById('lifeline-audience'),
                sourceReveal: document.getElementById('source-reveal'),
                sourceText: document.getElementById('source-text'),
                nextBtn: document.getElementById('next-btn'),
                qLevelDisplay: document.getElementById('q-level-display'),
                qMoneyDisplay: document.getElementById('q-money-display'),
                safeHavenBadge: document.getElementById('safe-haven-badge'),
                modalPhone: document.getElementById('modal-phone'),
                phoneMsg: document.getElementById('phone-msg'),
                modalAudience: document.getElementById('modal-audience'),
                chartContainer: document.getElementById('chart-container')
            },

            shuffle(array) {
                let arr = [...array];
                for (let i = arr.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]];
                }
                return arr;
            },

            init() {
                this.renderLadder(this.el.ladderDesktop);
            },

            renderLadder(container) {
                container.innerHTML = MONEY_LADDER.map((item, i) => {
                    const isSafe = item.safe;
                    const displayNum = i + 1;
                    return `
                    <div id="${container.id}-step-${i}" class="ladder-item flex justify-between items-center py-2 px-4 rounded text-base md:text-lg font-mono w-full
                        ${isSafe ? 'ladder-safe' : 'ladder-normal'}">
                        <span class="mr-4 w-6 text-right ${isSafe ? 'text-white' : 'text-yellow-600'}">${displayNum}</span>
                        <span class="${isSafe ? 'text-white' : ''}">${item.amt}</span>
                    </div>
                `}).reverse().join('');
            },

            updateLadder(idx) {
                [this.el.ladderDesktop].forEach(container => {
                    MONEY_LADDER.forEach((_, i) => {
                        const el = document.getElementById(`${container.id}-step-${i}`);
                        if(!el) return;
                        el.classList.remove('ladder-active', 'bg-yellow-600', 'ladder-passed');
                        
                        if (i === idx) {
                            el.classList.add('ladder-active');
                        } else if (i < idx) {
                            el.classList.add('ladder-passed');
                        }
                    });
                });
            },

            start() {
                // Reset State
                const rawShuffled = this.shuffle(RAW_QUESTIONS).slice(0, 15);
                this.state.questions = rawShuffled.map(q => ({
                    ...q,
                    options: this.shuffle([q.a, ...q.opts])
                }));
                this.state.currentIdx = 0;
                this.state.isLocked = false;
                this.state.lifelines = { fifty: false, phone: false, audience: false };

                // Reset UI
                this.el.startScreen.classList.add('hidden');
                this.el.resultScreen.classList.add('hidden');
                this.el.gameUi.classList.remove('hidden');
                setTimeout(() => this.el.gameUi.classList.remove('opacity-0'), 50);
                
                // Reset Buttons
                [this.el.lifelineBtn50, this.el.lifelineBtnPhone, this.el.lifelineBtnAudience].forEach(btn => {
                    btn.disabled = false;
                    btn.classList.remove('lifeline-used');
                });
                
                this.renderQuestion();
            },

            renderQuestion() {
                const qData = this.state.questions[this.state.currentIdx];
                const moneyInfo = MONEY_LADDER[this.state.currentIdx];
                
                this.state.isLocked = false;

                // Reset Next Button/Source
                this.el.nextBtn.classList.add('hidden');
                this.el.sourceReveal.classList.remove('opacity-100');
                this.el.sourceReveal.classList.add('opacity-0');

                // Update Text
                this.el.questionText.innerText = qData.q;
                
                // Update Top Stats
                this.el.qLevelDisplay.innerText = `Q${this.state.currentIdx + 1}`;
                this.el.qMoneyDisplay.innerText = moneyInfo.amt;
                if (moneyInfo.safe) {
                    this.el.safeHavenBadge.classList.remove('hidden');
                } else {
                    this.el.safeHavenBadge.classList.add('hidden');
                }
                
                // Update Ladder
                this.updateLadder(this.state.currentIdx);
                const desktopStep = document.getElementById(`money-ladder-desktop-step-${this.state.currentIdx}`);
                if (desktopStep) desktopStep.scrollIntoView({ behavior: "smooth", block: "center" });

                // Render Options
                this.el.optionsGrid.innerHTML = '';
                qData.options.forEach((opt, idx) => {
                    const letter = String.fromCharCode(65 + idx);
                    const btn = document.createElement('button');
                    btn.className = `group relative w-full h-16 md:h-20 rounded-full border-2 flex items-center px-6 md:px-10 shadow-lg transition-all duration-200 bg-gradient-to-b from-slate-900 to-black border-blue-500 hover:bg-slate-800 active:scale-95`;
                    btn.onclick = () => this.handleAnswer(opt, btn);
                    btn.innerHTML = `
                        <span class="mr-4 font-bold text-xl md:text-2xl text-yellow-500 group-hover:text-white transition-colors">${letter}:</span>
                        <span class="text-lg md:text-xl text-left flex-1 text-white">${opt}</span>
                        <div class="absolute left-4 top-1/2 -translate-y-1/2 w-full h-[1px] bg-white/10 pointer-events-none"></div>
                    `;
                    btn.dataset.opt = opt;
                    this.el.optionsGrid.appendChild(btn);
                });
            },

            handleAnswer(selectedOpt, btnElement) {
                if (this.state.isLocked) return;
                this.state.isLocked = true;

                // 1. Selected State (Orange)
                btnElement.classList.remove('from-slate-900', 'to-black', 'border-blue-500');
                btnElement.classList.add('from-yellow-600', 'to-yellow-800', 'border-white');
                const textSpan = btnElement.querySelector('span:nth-child(2)');
                textSpan.classList.add('font-bold', 'text-black');
                btnElement.querySelector('span:first-child').classList.add('text-black');

                // 2. Wait 2s for tension
                setTimeout(() => {
                    const currentQ = this.state.questions[this.state.currentIdx];
                    const isCorrect = selectedOpt === currentQ.a;

                    if (isCorrect) {
                        // Correct State (Green)
                        btnElement.classList.remove('from-yellow-600', 'to-yellow-800');
                        btnElement.classList.add('correct-answer', 'from-green-600', 'to-green-800');
                        
                        // Show Verse
                        this.el.sourceText.innerText = `âœ… æ­£ç¢ºï¼ ğŸ“– ${currentQ.src}`;
                        this.el.sourceReveal.classList.remove('opacity-0');
                        this.el.sourceReveal.classList.add('opacity-100');

                        // Show Next Button
                        this.el.nextBtn.classList.remove('hidden');
                        
                        // Scroll to bottom
                        setTimeout(() => {
                            this.el.nextBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }, 100);

                    } else {
                        // Wrong State (Red)
                        btnElement.classList.remove('from-yellow-600', 'to-yellow-800');
                        btnElement.classList.add('from-red-600', 'to-red-900');
                        
                        // Highlight Correct One
                        const correctBtn = Array.from(this.el.optionsGrid.children).find(b => b.dataset.opt === currentQ.a);
                        if(correctBtn) {
                            correctBtn.classList.remove('from-slate-900', 'to-black', 'border-blue-500');
                            correctBtn.classList.add('correct-answer', 'from-green-600', 'to-green-800');
                        }

                        // Show Source
                        this.el.sourceText.innerText = `âŒ éŒ¯èª¤ï¼ ğŸ“– ${currentQ.src}`;
                        this.el.sourceReveal.classList.remove('opacity-0');
                        this.el.sourceReveal.classList.add('opacity-100');

                        setTimeout(() => {
                            this.endGame(false, false); // Not a walk away, it's a loss
                        }, 3000);
                    }
                }, 2000);
            },

            nextQuestion() {
                if (this.state.currentIdx >= 14) {
                    this.endGame(true, false);
                } else {
                    this.state.currentIdx++;
                    this.renderQuestion();
                }
            },

            // --- Lifelines ---
            use5050() {
                if (this.state.lifelines.fifty || this.state.isLocked) return;
                
                const currentQ = this.state.questions[this.state.currentIdx];
                const buttons = Array.from(this.el.optionsGrid.children);
                const wrongButtons = buttons.filter(btn => btn.dataset.opt !== currentQ.a);
                
                // Shuffle and hide 2
                const toHide = this.shuffle(wrongButtons).slice(0, 2);
                toHide.forEach(btn => btn.classList.add('invisible-opt'));

                // Update Button State
                this.state.lifelines.fifty = true;
                this.el.lifelineBtn50.classList.add('lifeline-used');
            },

            usePhone() {
                if (this.state.lifelines.phone || this.state.isLocked) return;
                
                const currentQ = this.state.questions[this.state.currentIdx];
                this.el.modalPhone.classList.remove('hidden');
                
                // Simulate thinking
                this.el.phoneMsg.innerText = "æ‰“çµ¦æœ‹å‹ä¸­...";
                
                setTimeout(() => {
                    const phrases = [
                        `æˆ‘éå¸¸æœ‰ä¿¡å¿ƒï¼Œç­”æ¡ˆè‚¯å®šæ˜¯ ${currentQ.a}ã€‚`,
                        `æˆ‘åœ¨ä¸»æ—¥å­¸è½éé€™é¡Œï¼Œæ‡‰è©²æ˜¯ ${currentQ.a}ï¼`,
                        `é€™é¡Œæœ‰é»é›£... ä½†æˆ‘æœ‰ 80% æŠŠæ¡æ˜¯ ${currentQ.a}ã€‚`,
                        `ä¸ç”¨æƒ³äº†ï¼Œé¸ ${currentQ.a}ï¼`
                    ];
                    const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
                    this.el.phoneMsg.innerText = `ğŸ—£ï¸: "${randomPhrase}"`;
                }, 1500);

                this.state.lifelines.phone = true;
                this.el.lifelineBtnPhone.classList.add('lifeline-used');
            },

            useAudience() {
                if (this.state.lifelines.audience || this.state.isLocked) return;
                
                const currentQ = this.state.questions[this.state.currentIdx];
                this.el.modalAudience.classList.remove('hidden');
                
                // Generate percentages (Correct answer gets 60-90%)
                const correctPct = Math.floor(Math.random() * 30) + 60; // 60-90
                const remaining = 100 - correctPct;
                
                // Distribute remaining randomly among 3 wrong answers
                let r1 = Math.floor(Math.random() * remaining);
                let r2 = Math.floor(Math.random() * (remaining - r1));
                let r3 = remaining - r1 - r2;
                
                // Map percentages to options
                const stats = [];
                const buttons = Array.from(this.el.optionsGrid.children);
                
                let wrongIdx = 0;
                const wrongs = [r1, r2, r3];

                buttons.forEach(btn => {
                    const isCorrect = btn.dataset.opt === currentQ.a;
                    const val = isCorrect ? correctPct : wrongs[wrongIdx++];
                    stats.push({ label: btn.querySelector('span').innerText.replace(':',''), val });
                });

                // Render Chart
                this.el.chartContainer.innerHTML = stats.map(s => `
                    <div class="bar-container">
                        <span class="text-xs mb-1">${s.val}%</span>
                        <div class="bar" style="height: ${s.val}%"></div>
                        <span class="text-xl mt-1 font-bold">${s.label}</span>
                    </div>
                `).join('');

                this.state.lifelines.audience = true;
                this.el.lifelineBtnAudience.classList.add('lifeline-used');
            },

            walkAway() {
                if(this.state.isLocked) return;
                if(confirm("ç¢ºå®šè¦æ£„æ¬Šå—ï¼Ÿä½ å°‡æ‹¿èµ°ç›®å‰çš„çé‡‘ã€‚")) {
                    this.endGame(false, true);
                }
            },

            endGame(won, walkedAway) {
                this.el.gameUi.classList.add('hidden');
                this.el.resultScreen.classList.remove('hidden');
                
                const resultTitle = document.getElementById('result-title');
                const resultPrize = document.getElementById('result-prize');
                const correctAnswerDisplay = document.getElementById('correct-answer-display');
                
                if (won) {
                    resultTitle.innerText = "æ­å–œç™¼è²¡ï¼";
                    resultTitle.className = "text-5xl md:text-7xl font-bold mb-6 text-yellow-400 animate-winner";
                    resultPrize.innerText = "$1,000,000";
                    correctAnswerDisplay.classList.add('hidden');
                } else if (walkedAway) {
                    resultTitle.innerText = "æˆåŠŸå–åˆ†";
                    resultTitle.className = "text-5xl md:text-6xl font-bold mb-6 text-green-400";
                    
                    // Logic: Get value of PREVIOUS question (or $0 if on Q1)
                    const prize = this.state.currentIdx > 0 
                        ? MONEY_LADDER[this.state.currentIdx - 1].amt 
                        : "$0";
                    resultPrize.innerText = prize;
                    correctAnswerDisplay.classList.add('hidden');
                } else {
                    // Answered WRONG
                    resultTitle.innerText = "éŠæˆ²çµæŸ";
                    resultTitle.className = "text-5xl md:text-7xl font-bold mb-6 text-blue-300";
                    
                    // Safe Haven Logic
                    let prizeText = "$0";
                    const idx = this.state.currentIdx; 
                    
                    if (idx >= 10) { // Passed Q10
                        prizeText = "$50,000"; 
                    } else if (idx >= 5) { // Passed Q5
                        prizeText = "$5,000"; 
                    } else {
                        prizeText = "$0";
                    }

                    resultPrize.innerText = prizeText;
                    
                    // Show correct answer
                    const lastQ = this.state.questions[this.state.currentIdx];
                    document.getElementById('correct-answer-text').innerText = lastQ.a;
                    document.getElementById('correct-source-text').innerText = lastQ.src;
                    correctAnswerDisplay.classList.remove('hidden');
                }
            }
        };

        // Initialize
        game.init();

    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
